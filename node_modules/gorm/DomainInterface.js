//http://docs.grails.org/3.1.1/ref/Domain%20Classes/countBy.html
((_interface,Criteria)=>{
   _interface._static={};_interface.metaClass={};
   _interface._static.findAll=function(){
        return require('./index.js').sessionFactory.getDB(this);
   };
   _interface._static.count=function(){
        return this.findAll().length;
   };
    _interface._static.createCriteria=function(){
          return new Criteria(this,require('./index.js').sessionFactory,...arguments);
    };
   //----->>>>><<<<<<<-------------

   _interface.metaClass.save=function(withoutUnicity){
     let gorm=require('./index.js'),before=this.constructor.count();
     gorm.idify(this);
     gorm.sessionFactory.addDB(this,this.constructor,withoutUnicity);
     return before+1===this.constructor.count();

   };


   module.exports=_interface;
})({},require('./Criteria.js'));
